@using Epam.ExtUsersLibrary.BLL.Interfaces
@using Epam.ExtUsersLibrary.BLL.Ioc;
@using Epam.ExtUsersLibrary.Entities;
@{
    Layout = "~/Pages/Layouts/_LayoutPage1.cshtml";
    var userLogic = DependencyResolver.UserLogic;
    var awardLogic = DependencyResolver.AwardLogic;
    var allAwards = awardLogic.GetAll();
    Page.Tittle = "Awards";
}
<div class="main">
    <h1>Awards List</h1>
    <table class="table table-striped" style="padding: 10px;">
        <thead class="thead-dark">
        <tr class="d-flex">
            <th class="col-1">ID</th>
            <th class="col-2">Pic</th>
            <th class="col-5">Name</th>
            <th class="col-2">Update</th>
            <th class="col-2">Delete</th>
        </tr>
        </thead>
        @foreach (var award in allAwards)
        {
            <tr id="a-@award.Id" class="d-flex">
                <td class="col-1">@award.Id</td>
                <td class="col-2" rel="awardPic"><img src="@award.PicPath" width="50" height="50" /></td>
                <td class="col-5" rel="name">@award.Name</td>
                <td class="col-2"><img class="editUserBtn" src="/Content/icons/pencil.svg"></td>
                <td class="col-2"><img class="delUserBtn" src="/Content/icons/x-circle.svg"></td>
            </tr>
        }
    </table>
    <div><button style="margin: 10px" id="showContrlPanel" class="btn btn-primary">Add New</button></div>
    <div>
        <div class="cntrl_panel panel_template" style="display: none">
            <form>
                <h3>Adding new</h3>
                <hr />
                <div class="form-group">
                    <label for="nameAward">Award Name:</label>
                    <input id="nameAward" class="form-control form-control-sm" type="text" name="title" />
                </div>
                <div class="form-group mb-2">
                    <label>Picture:</label>
                    <input class="form-control form-control-sm" id="awardPic" type="file" name="title" />
                </div>
                <input id="addAwardBut" class="btn btn-info align-items-center" type="submit" name="buttonSubmit" value="Add" />
            </form>
        </div>
        <div class="edit_panel panel_template" style="display: none">
            <form>
                <h3>Edditing</h3>
                <hr/>
                <div class="form-group">
                    <label>Award Name:</label>
                    <input type="text" class="form-control form-control-sm" placeholder="Title" id="edit_name" value="">
                </div>
                <div class="form-group mb-2">
                    <label>Picture:</label>
                    <input class="form-control form-control-sm" id="awardPicEdit" type="file" name="title"/>
                </div>
                <button id="updateAward" class="btn btn-info align-items-center">Update Award Info</button>
            </form>
        </div>
    </div>


</div>
<script src="/Scripts/jquery-3.4.1.min.js"></script>
<script src="/Scripts/CommonScipts.js"></script>
<script src="~/Scripts/AwardScripts.js"></script>

